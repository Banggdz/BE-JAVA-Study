https://www.baeldung.com/jpa-hibernate-persistence-context
- Reference Documentation:
https://docs.spring.io/spring-data/data-jpa/docs/1.4.x/reference/htmlsingle/#repositories.query-methods
- ORM:
ORM lÃ  1 ká»¹ thuáº­t láº­p trÃ¬nh giÃºp Ã¡nh xáº¡ cÃ¡c record dá»¯ liá»‡u trong há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u sang dáº¡ng Ä‘á»‘i tÆ°á»£ng Ä‘ang Ä‘á»‹nh nghÄ©a trong cÃ¡c class
https://viblo.asia/p/object-relational-mapping-djeZ1PQ3KWz

https://www.tutorialspoint.com/jpa/jpa_architecture.htm
https://www.baeldung.com/jpql-hql-criteria-query
https://stackoverflow.com/questions/50322550/hibernate-dialect-for-mysql-8

 LÃ m viá»‡c vá»›i JPA cÃ³ 2 cÃ¡ch chÃ­nh:
- JPQL (Java Persistence Query Language) : NgÃ´n ngá»¯ truy váº¥n hÆ°á»›ng Ä‘á»‘i tÆ°á»£ng (Object-Oriented Query Language).
+ Sá»­ dá»¥ng hoÃ n toÃ n vá»›i cÃ¡c Ä‘á»‘i tÆ°á»£ng Entity trong Java.
+ Truy váº¥n mang tÃ­nh hÆ°á»›ng Ä‘á»‘i tÆ°á»£ng, khÃ´ng phá»¥ thuá»™c vÃ o cáº¥u trÃºc báº£ng csdl, Khi cháº¡y, Hibernate/EclipseLink sáº½ dá»‹ch JPQL thÃ nh SQL gá»‘c phÃ¹ há»£p vá»›i DB báº¡n dÃ¹ng..
+ VD: String sql = "FROM BuildingEntity b";
      Query query = entityManager.createQuery(sql,BuildingEntity.class);
	  return query.getResultList();
ğŸ‘‰ á» Ä‘Ã¢y:
+ BuildingEntity lÃ  tÃªn Entity class.
+ b.name lÃ  thuá»™c tÃ­nh trong class BuildingEntity.
+ KhÃ´ng quan tÃ¢m báº£ng tháº­t trong DB tÃªn gÃ¬ (building, tbl_building, ...).

- Native Query
+ Viáº¿t truy váº¥n SQL thuáº§n, gáº§n giá»‘ng nhÆ° cÃ¡ch lÃ m viá»‡c trá»±c tiáº¿p vá»›i cÆ¡ sá»Ÿ dá»¯ liá»‡u.
+ Dá»… dÃ ng táº­n dá»¥ng cÃ¡c tÃ­nh nÄƒng Ä‘áº·c thÃ¹ cá»§a há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u.
+ VD: String sql = "FROM BuildingEntity b WHERE b.name like '%building%";
	  Query query = entityManager.createNativeQuery(sql,BuildingEntity.class);
	  return query.getResultList();
ğŸ‘‰ á» Ä‘Ã¢y:
+ building lÃ  tÃªn báº£ng trong DB.
+ name lÃ  tÃªn cá»™t tháº­t trong báº£ng.
+ CÃ¢u query phá»¥ thuá»™c vÃ o loáº¡i DB (MySQL, Oracle, PostgreSQLâ€¦).
---- Persistent Context
- Má»™t instance cá»§a EntityManager Ä‘Æ°á»£c gáº¯n vá»›i má»™t persistence context. Persistence context lÃ  táº­p há»£p cÃ¡c entity, trong Ä‘Ã³ má»—i Ä‘á»‹nh danh entity chá»‰ tá»“n táº¡i duy nháº¥t má»™t instance. 
BÃªn trong persistence context, cÃ¡c entity vÃ  vÃ²ng Ä‘á»i cá»§a chÃºng Ä‘Æ°á»£c quáº£n lÃ½. 
EntityManager API Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ táº¡o, xÃ³a entity, tÃ¬m kiáº¿m theo khÃ³a chÃ­nh, vÃ  thá»±c hiá»‡n query: persist(), merge(), remove(), find(), createQuery()
ğŸ‘‰Persistence context lÃ  bá»™ nhá»› Ä‘á»‡m cáº¥p má»™t (first-level cache), nÆ¡i táº¥t cáº£ cÃ¡c entity Ä‘Æ°á»£c láº¥y ra tá»« cÆ¡ sá»Ÿ dá»¯ liá»‡u hoáº·c Ä‘Æ°á»£c lÆ°u vÃ o cÆ¡ sá»Ÿ dá»¯ liá»‡u. NÃ³ náº±m á»Ÿ giá»¯a á»©ng dá»¥ng cá»§a chÃºng ta vÃ  táº§ng lÆ°u trá»¯ dá»¯ liá»‡u
ğŸ‘‰Persistence context theo dÃµi má»i thay Ä‘á»•i Ä‘Æ°á»£c thá»±c hiá»‡n trÃªn managed entity. NÃ³ theo dÃµi thay Ä‘á»•i cá»§a entity. Khi transaction káº¿t thÃºc, thay Ä‘á»•i nÃ y sáº½ Ä‘Æ°á»£c flush (ghi ra) vÃ o database
ğŸ‘‰Persistence Context chÃ­nh lÃ  nÆ¡i Hibernate/JPA giá»¯ cÃ¡c entity Ä‘ang Ä‘Æ°á»£c quáº£n lÃ½, Ä‘áº£m báº£o chÃºng Ä‘á»“ng bá»™ vá»›i database.
ğŸ‘‰EntityManager lÃ  interface cho phÃ©p chÃºng ta tÆ°Æ¡ng tÃ¡c vá»›i persistence context. Báº¥t cá»© khi nÃ o chÃºng ta sá»­ dá»¥ng EntityManager, thá»±c cháº¥t chÃºng ta Ä‘ang lÃ m viá»‡c vá»›i persistence context.
