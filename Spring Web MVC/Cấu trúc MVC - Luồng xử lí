https://examples.javacodegeeks.com/java-development/enterprise-java/spring/mvc/spring-mvc-pagination-example/?utm_source=chatgpt.com
Cáº¥u hÃ¬nh: https://laptrinhjavaweb.com/huong-dan-tao-project-spring-mvc-su-dung-xml-configuration-8
https://itviec.com/blog/spring-mvc-la-gi/

Trung tÃ¢m cá»§a kiáº¿n trÃºc Spring MVC lÃ  DispatcherServlet. NÃ³ hoáº¡t Ä‘á»™ng nhÆ° má»™t â€œFront Controller,â€ nghÄ©a lÃ  má»i yÃªu cáº§u HTTP tá»« client Ä‘á»u Ä‘i qua nÃ³ Ä‘áº§u tiÃªn. Sau Ä‘Ã³, DispatcherServlet sáº½ Ä‘iá»u phá»‘i yÃªu cáº§u nÃ y Ä‘áº¿n cÃ¡c thÃ nh pháº§n khÃ¡c Ä‘á»ƒ xá»­ lÃ½.

DispatcherServlet (Front Controller)
 ğŸ‘‰ LÃ  cá»•ng vÃ o duy nháº¥t cá»§a á»©ng dá»¥ng, tiáº¿p nháº­n táº¥t cáº£ cÃ¡c request HTTP, phÃ¢n tÃ­ch chÃºng vÃ  á»§y quyá»n cho cÃ¡c thÃ nh pháº§n phÃ¹ há»£p xá»­ lÃ½.
Cáº¥u hÃ¬nh: TrÆ°á»›c Ä‘Ã¢y, DispatcherServlet thÆ°á»ng Ä‘Æ°á»£c khai bÃ¡o trong file web.xml. 
Vá»›i Spring Boot hoáº·c cáº¥u hÃ¬nh dá»±a trÃªn Java (Java-based configuration), viá»‡c nÃ y Ä‘Æ°á»£c tá»± Ä‘á»™ng hÃ³a, nhÆ°ng báº¡n váº«n cÃ³ thá»ƒ tÃ¹y chá»‰nh nÃ³ qua lá»›p AbstractAnnotationConfigDispatcherServletInitializer.

HandlerMapping (NgÆ°á»i chá»‰ Ä‘Æ°á»ng)
 ğŸ‘‰ Sau khi nháº­n request, DispatcherServlet sáº½ há»i HandlerMapping ráº±ng: â€œVá»›i URL lÃ  /san-pham/123, Controller nÃ o sáº½ xá»­ lÃ½?â€. HandlerMapping sáº½ quÃ©t qua cÃ¡c Controller Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a vÃ  tÃ¬m ra phÆ°Æ¡ng thá»©c phÃ¹ há»£p.
Triá»ƒn khai phá»• biáº¿n: RequestMappingHandlerMapping lÃ  triá»ƒn khai máº·c Ä‘á»‹nh, nÃ³ tÃ¬m kiáº¿m cÃ¡c phÆ°Æ¡ng thá»©c Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u báº±ng annotation @RequestMapping, @GetMapping, @PostMapping, v.v.

Controller (NgÆ°á»i xá»­ lÃ½)
Vai trÃ²: ÄÃ¢y lÃ  nÆ¡i logic nghiá»‡p vá»¥ Ä‘Æ°á»£c thá»±c thi. Controller nháº­n request, tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c service hoáº·c repository Ä‘á»ƒ xá»­ lÃ½ dá»¯ liá»‡u, sau Ä‘Ã³ Ä‘Ã³ng gÃ³i káº¿t quáº£ vÃ  thÃ´ng tin vá» View sáº½ hiá»ƒn thá»‹.
CÃ¡ch táº¡o: Báº¡n táº¡o má»™t class vÃ  Ä‘Ã¡nh dáº¥u nÃ³ báº±ng @Controller (cho á»©ng dá»¥ng web truyá»n thá»‘ng) hoáº·c @RestController (Ä‘á»ƒ xÃ¢y dá»±ng RESTful APIs, tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i káº¿t quáº£ thÃ nh JSON/XML).
ModelAndView (GÃ³i hÃ ng)

Vai trÃ²: LÃ  má»™t Ä‘á»‘i tÆ°á»£ng "container" tiá»‡n lá»£i do Controller tráº£ vá». NÃ³ chá»©a hai thá»©: Model (dá»¯ liá»‡u cáº§n hiá»ƒn thá»‹, thÆ°á»ng lÃ  má»™t Map) vÃ  tÃªn logic cá»§a View (má»™t chuá»—i, vÃ­ dá»¥: "productDetail").
CÃ¡ch tráº£ vá»: Controller sáº½ táº¡o má»™t Ä‘á»‘i tÆ°á»£ng ModelAndView, thÃªm dá»¯ liá»‡u vÃ o Ä‘Ã³ vÃ  tráº£ vá» cho DispatcherServlet.
ModelAndView mav = new ModelAndView("productDetail"); mav.addObject("product", productService.getProductById(123)); return mav;
Copy
ViewResolver (NgÆ°á»i phiÃªn dá»‹ch)

Vai trÃ²: DispatcherServlet nháº­n ModelAndView vÃ  khÃ´ng biáº¿t "productDetail" lÃ  file nÃ o. NÃ³ sáº½ Ä‘Æ°a tÃªn logic nÃ y cho ViewResolver. ViewResolver sáº½ â€œdá»‹châ€ tÃªn logic nÃ y thÃ nh má»™t Ä‘Æ°á»ng dáº«n Ä‘áº¿n file View cá»¥ thá»ƒ.
Triá»ƒn khai phá»• biáº¿n: InternalResourceViewResolver thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng cho JSP. NÃ³ sáº½ thÃªm tiá»n tá»‘ (prefix) vÃ  háº­u tá»‘ (suffix) vÃ o tÃªn logic. VÃ­ dá»¥: "productDetail" sáº½ Ä‘Æ°á»£c dá»‹ch thÃ nh /WEB-INF/views/productDetail.jsp. ThymeleafViewResolver Ä‘Æ°á»£c dÃ¹ng cho template Thymeleaf.
View (NgÆ°á»i trÃ¬nh bÃ y)

Vai trÃ²: LÃ  tráº¡m cuá»‘i cÃ¹ng. View (vÃ­ dá»¥: file productDetail.jsp) nháº­n dá»¯ liá»‡u tá»« Model, thá»±c hiá»‡n cÃ¡c logic hiá»ƒn thá»‹ (nhÆ° vÃ²ng láº·p, Ä‘iá»u kiá»‡n) vÃ  render ra HTML cuá»‘i cÃ¹ng.
CÃ´ng nghá»‡ thÆ°á»ng dÃ¹ng: JSP, Thymeleaf (khuyáº¿n khÃ­ch), FreeMarker, Velocity.
Cuá»‘i cÃ¹ng, DispatcherServlet nháº­n káº¿t quáº£ HTML tá»« View vÃ  gá»­i nÃ³ vá» trÃ¬nh duyá»‡t cá»§a ngÆ°á»i dÃ¹ng dÆ°á»›i dáº¡ng má»™t HTTP Response, káº¿t thÃºc má»™t chu ká»³ xá»­ lÃ½ request.

CÃ¡c khÃ¡i niá»‡m vÃ  tÃ­nh nÄƒng quan trá»ng cá»§a Spring MVC
Sau Ä‘Ã¢y chÃºng ta sáº½ Ä‘i sÃ¢u vÃ o cÃ¡c â€œviÃªn gáº¡châ€ quan trá»ng Ä‘Ã£ lÃ m nÃªn sá»©c máº¡nh vÃ  sá»± linh hoáº¡t cá»§a Spring MVC. ÄÃ¢y lÃ  nhá»¯ng khÃ¡i niá»‡m vÃ  tÃ­nh nÄƒng báº¡n sáº½ sá»­ dá»¥ng hÃ ng ngÃ y khi lÃ m viá»‡c vá»›i framework nÃ y.

Annotations â€“ NgÃ´n ngá»¯ giao tiáº¿p vá»›i framework
Annotations lÃ  cÃ¡ch chÃ­nh Ä‘á»ƒ báº¡n â€œchá»‰ thá»‹â€ cho Spring MVC biáº¿t pháº£i lÃ m gÃ¬ vá»›i code cá»§a báº¡n. ChÃºng giÃºp giáº£m thiá»ƒu cáº¥u hÃ¬nh XML rÆ°á»m rÃ  vÃ  lÃ m cho code trá»Ÿ nÃªn trá»±c quan hÆ¡n. 

DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ i Annotations báº¡n sáº½ thÆ°á»ng xuyÃªn gáº·p trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn sá»­ dá»¥ng mÃ´ hÃ¬nh Spring MVC:

1. @Controller & @RestController:

@Controller: ÄÃ¡nh dáº¥u má»™t class lÃ  má»™t Controller truyá»n thá»‘ng. CÃ¡c phÆ°Æ¡ng thá»©c trong class nÃ y thÆ°á»ng tráº£ vá» tÃªn cá»§a má»™t View (vÃ­ dá»¥: tÃªn file JSP/Thymeleaf).
@RestController: LÃ  sá»± káº¿t há»£p cá»§a @Controller vÃ  @ResponseBody. NÃ³ chuyÃªn dÃ¹ng Ä‘á»ƒ xÃ¢y dá»±ng RESTful APIs, nÆ¡i má»—i phÆ°Æ¡ng thá»©c tráº£ vá» dá»¯ liá»‡u (nhÆ° JSON/XML) trá»±c tiáº¿p cho client thay vÃ¬ má»™t View.
2. @RequestMapping vÃ  cÃ¡c biáº¿n thá»ƒ: Ãnh xáº¡ má»™t request HTTP tá»›i má»™t phÆ°Æ¡ng thá»©c xá»­ lÃ½ (handler method).

@RequestMapping("/users"): CÃ³ thá»ƒ xá»­ lÃ½ má»i phÆ°Æ¡ng thá»©c HTTP (GET, POST, etc.).
@GetMapping("/users"): Chá»‰ xá»­ lÃ½ request GET.
@PostMapping("/users"): Chá»‰ xá»­ lÃ½ request POST.
TÆ°Æ¡ng tá»± vá»›i @PutMapping, @DeleteMapping, @PatchMapping.
3. Láº¥y dá»¯ liá»‡u tá»« Request:

@RequestParam: Láº¥y giÃ¡ trá»‹ tá»« query parameter trong URL. VÃ­ dá»¥: ?id=123.
@PathVariable: Láº¥y giÃ¡ trá»‹ tá»« má»™t pháº§n cá»§a Ä‘Æ°á»ng dáº«n URI. VÃ­ dá»¥: /users/{id}.
@RequestBody: Ãnh xáº¡ toÃ n bá»™ pháº§n thÃ¢n (body) cá»§a request (thÆ°á»ng lÃ  má»™t chuá»—i JSON/XML) vÃ o má»™t Ä‘á»‘i tÆ°á»£ng Java (POJO).
4. Xá»­ lÃ½ dá»¯ liá»‡u tráº£ vá»:

@ResponseBody: BÃ¡o cho Spring biáº¿t ráº±ng giÃ¡ trá»‹ tráº£ vá» cá»§a phÆ°Æ¡ng thá»©c nÃªn Ä‘Æ°á»£c ghi tháº³ng vÃ o body cá»§a HTTP response, thay vÃ¬ Ä‘Æ°á»£c phÃ¢n giáº£i thÃ nh má»™t View.

@RestController Ä‘Ã£ tÃ­ch há»£p sáºµn annotation nÃ y.

5. LÃ m viá»‡c vá»›i Model vÃ  Session:

@ModelAttribute: CÃ³ hai cÃ¡ch dÃ¹ng chÃ­nh:

TrÃªn phÆ°Æ¡ng thá»©c: PhÆ°Æ¡ng thá»©c Ä‘Ã³ sáº½ Ä‘Æ°á»£c thá»±c thi trÆ°á»›c cáº£ handler method, giÃ¡ trá»‹ nÃ³ tráº£ vá» sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng thÃªm vÃ o Model.
TrÃªn tham sá»‘ cá»§a phÆ°Æ¡ng thá»©c: Láº¥y má»™t Ä‘á»‘i tÆ°á»£ng Ä‘Ã£ cÃ³ sáºµn trong Model Ä‘á»ƒ sá»­ dá»¥ng.
@SessionAttributes: LÆ°u trá»¯ cÃ¡c model attribute trong session HTTP, giÃºp duy trÃ¬ tráº¡ng thÃ¡i qua nhiá»u request.

6. XÃ¡c thá»±c dá»¯ liá»‡u:

@Valid / @Validated: KÃ­ch hoáº¡t cÆ¡ cháº¿ kiá»ƒm tra tÃ­nh há»£p lá»‡ cá»§a dá»¯ liá»‡u Ä‘áº§u vÃ o (vÃ­ dá»¥: má»™t Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c gá»­i lÃªn tá»« form).

Xá»­ lÃ½ Form (Form Handling) 
Spring MVC cung cáº¥p cÆ¡ cháº¿ máº¡nh máº½ Ä‘á»ƒ xá»­ lÃ½ dá»¯ liá»‡u tá»« cÃ¡c form HTML.

Data Binding: Spring cÃ³ kháº£ nÄƒng tá»± Ä‘á»™ng â€œbindâ€ (liÃªn káº¿t) cÃ¡c trÆ°á»ng dá»¯ liá»‡u tá»« má»™t form (vÃ­ dá»¥: username, password) vÃ o cÃ¡c thuá»™c tÃ­nh cá»§a má»™t Ä‘á»‘i tÆ°á»£ng Java (thÆ°á»ng gá»i lÃ  Command Object hoáº·c Form-backing Object).
Form Tags: Khi dÃ¹ng vá»›i JSP, Spring cung cáº¥p má»™t thÆ° viá»‡n tháº» (form tags) giÃºp dá»… dÃ ng táº¡o form vÃ  liÃªn káº¿t nÃ³ vá»›i Command Object, cÅ©ng nhÆ° hiá»ƒn thá»‹ cÃ¡c lá»—i xÃ¡c thá»±c má»™t cÃ¡ch thuáº­n tiá»‡n. Vá»›i Thymeleaf, viá»‡c tÃ­ch há»£p cÅ©ng ráº¥t liá»n máº¡ch.
XÃ¡c thá»±c dá»¯ liá»‡u (Data Validation) 
Viá»‡c Ä‘áº£m báº£o dá»¯ liá»‡u ngÆ°á»i dÃ¹ng nháº­p vÃ o lÃ  há»£p lá»‡ lÃ  má»™t yÃªu cáº§u báº¯t buá»™c.Spring tÃ­ch há»£p hoÃ n háº£o vá»›i tiÃªu chuáº©n Bean Validation (JSR 303/JSR 380): Báº¡n chá»‰ cáº§n thÃªm cÃ¡c annotation xÃ¡c thá»±c nhÆ° @NotNull, @Size(min=6, max=20), @Email, @Pattern(regexp="...") trá»±c tiáº¿p lÃªn cÃ¡c trÆ°á»ng cá»§a Ä‘á»‘i tÆ°á»£ng Java.

Khi káº¿t há»£p @Valid trong Controller, náº¿u dá»¯ liá»‡u khÃ´ng há»£p lá»‡, cÃ¡c lá»—i sáº½ Ä‘Æ°á»£c ghi láº¡i vÃ  báº¡n cÃ³ thá»ƒ dá»… dÃ ng hiá»ƒn thá»‹ chÃºng trÃªn View Ä‘á»ƒ thÃ´ng bÃ¡o cho ngÆ°á»i dÃ¹ng.

Xá»­ lÃ½ ngoáº¡i lá»‡ (Exception Handling) 
Má»™t á»©ng dá»¥ng tá»‘t pháº£i xá»­ lÃ½ Ä‘Æ°á»£c cÃ¡c tÃ¬nh huá»‘ng khÃ´ng mong muá»‘n.

@ExceptionHandler: Äáº·t annotation nÃ y trÃªn má»™t phÆ°Æ¡ng thá»©c bÃªn trong Controller Ä‘á»ƒ â€œbáº¯tâ€ vÃ  xá»­ lÃ½ má»™t loáº¡i ngoáº¡i lá»‡ cá»¥ thá»ƒ chá»‰ xáº£y ra trong Controller Ä‘Ã³.
@ControllerAdvice / @RestControllerAdvice: ÄÃ¢y lÃ  cÃ¡ch xá»­ lÃ½ ngoáº¡i lá»‡ toÃ n cá»¥c. Báº¡n táº¡o má»™t class riÃªng Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u báº±ng annotation nÃ y, vÃ  cÃ¡c phÆ°Æ¡ng thá»©c @ExceptionHandler bÃªn trong nÃ³ sáº½ xá»­ lÃ½ ngoáº¡i lá»‡ tá»« táº¥t cáº£ cÃ¡c Controller trong á»©ng dá»¥ng. Äiá»u nÃ y giÃºp trÃ¡nh láº·p láº¡i code xá»­ lÃ½ lá»—i.
Interceptors (Bá»™ Cháº·n) 
Interceptor cho phÃ©p báº¡n thá»±c thi má»™t Ä‘oáº¡n logic trÆ°á»›c khi request Ä‘Æ°á»£c xá»­ lÃ½ bá»Ÿi Controller, sau khi Controller xá»­ lÃ½ xong, hoáº·c sau khi View Ä‘Ã£ Ä‘Æ°á»£c render.

Interceptor ráº¥t há»¯u Ã­ch cho cÃ¡c tÃ¡c vá»¥ xuyÃªn suá»‘t (cross-cutting concerns) nhÆ°:

Ghi log (logging) má»i request.
Kiá»ƒm tra xÃ¡c thá»±c (authentication) vÃ  phÃ¢n quyá»n (authorization).
ThÃªm cÃ¡c thuá»™c tÃ­nh chung vÃ o ModelAndView cho má»i request.
CÃ¡ch táº¡o: Triá»ƒn khai interface HandlerInterceptor (hoáº·c káº¿ thá»«a lá»›p HandlerInterceptorAdapter Ä‘Ã£ lá»—i thá»i) vÃ  Ä‘Äƒng kÃ½ nÃ³ vá»›i Spring.

Há»— trá»£ RESTful Web Services 
ÄÃ¢y lÃ  má»™t trong nhá»¯ng tháº¿ máº¡nh lá»›n nháº¥t cá»§a Spring MVC hiá»‡n Ä‘áº¡i.

@RestController: NhÆ° Ä‘Ã£ Ä‘á» cáº­p, Ä‘Ã¢y lÃ  chÃ¬a khÃ³a Ä‘á»ƒ xÃ¢y dá»±ng API.
Xá»­ lÃ½ HTTP Methods: Dá»… dÃ ng Ã¡nh xáº¡ cÃ¡c hÃ nh Ä‘á»™ng CRUD (Create, Read, Update, Delete) tá»›i cÃ¡c phÆ°Æ¡ng thá»©c POST, GET, PUT, DELETE tÆ°Æ¡ng á»©ng.
Content Negotiation: Spring cÃ³ thá»ƒ tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i Ä‘á»‘i tÆ°á»£ng Java tráº£ vá» thÃ nh Ä‘á»‹nh dáº¡ng mÃ  client yÃªu cáº§u (vÃ­g dá»¥: JSON hoáº·c XML) dá»±a trÃªn header Accept cá»§a request.
Táº£i tá»‡p lÃªn (File Uploading) 
Spring MVC Ä‘Æ¡n giáº£n hÃ³a viá»‡c xá»­ lÃ½ cÃ¡c tá»‡p Ä‘Æ°á»£c táº£i lÃªn tá»« client.

Cáº¥u hÃ¬nh MultipartResolver: Báº¡n cáº§n cáº¥u hÃ¬nh má»™t bean MultipartResolver Ä‘á»ƒ Spring cÃ³ thá»ƒ xá»­ lÃ½ cÃ¡c request multipart (request chá»©a tá»‡p). Vá»›i Spring Boot, viá»‡c nÃ y thÆ°á»ng Ä‘Æ°á»£c tá»± Ä‘á»™ng cáº¥u hÃ¬nh khi báº¡n thÃªm dependency cáº§n thiáº¿t.
Xá»­ lÃ½ trong Controller: Sá»­ dá»¥ng MultipartFile lÃ m tham sá»‘ trong handler method Ä‘á»ƒ dá»… dÃ ng nháº­n vÃ  xá»­ lÃ½ tá»‡p tin Ä‘Æ°á»£c táº£i lÃªn.
Äa ngÃ´n ngá»¯ (Localization â€“ i18n) 
Spring cung cáº¥p cÆ¡ cháº¿ toÃ n diá»‡n Ä‘á»ƒ xÃ¢y dá»±ng cÃ¡c á»©ng dá»¥ng há»— trá»£ nhiá»u ngÃ´n ngá»¯. Báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c ResourceBundleMessageSource vÃ  LocaleResolver, báº¡n cÃ³ thá»ƒ dá»… dÃ ng quáº£n lÃ½ cÃ¡c file chá»©a chuá»—i vÄƒn báº£n cho tá»«ng ngÃ´n ngá»¯ vÃ  hiá»ƒn thá»‹ ngÃ´n ngá»¯ phÃ¹ há»£p dá»±a trÃªn lá»±a chá»n cá»§a ngÆ°á»i dÃ¹ng hoáº·c cÃ i Ä‘áº·t trÃ¬nh duyá»‡t.
